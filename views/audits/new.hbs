<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/audits">Audits</a></li>
        <li class="breadcrumb-item active" aria-current="page">Create audit</li>
    </ol>
</nav>

<form action="/audits/new" method="post">
    {{ csrf_token }}

    <input type="hidden" id="daterangeStart" name="daterangeStart" value="{{values.daterangeStart}}">
    <input type="hidden" id="daterangeEnd" name="daterangeEnd" value="{{values.daterangeEnd}}">

    <div class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control {{#if errors.name}}is-invalid{{/if}}" id="name" name="name"
            value="{{values.name}}" required>
        {{#if errors.name}}
        <div class="invalid-feedback">
            {{errors.name}}
        </div>
        {{/if}}
        <small class="form-text text-muted">Name for the audit, displayed in audit lists</small>
    </div>

    <div class="form-group">
        <label for="accounts">Accounts</label>
        <textarea class="form-control {{#if errors.accounts}}is-invalid{{/if}} accounts" id="accounts" name="accounts"
            rows="3" required>{{values.accounts}}</textarea>
        {{#if errors.accounts}}
        <div class="invalid-feedback">
            {{errors.accounts}}
        </div>
        {{/if}}
        <small class="form-text text-muted">Comma or newline separated list of usernames, email addresses or account
            IDs</small>
    </div>

    <div class="form-group">
        <label for="daterange">Applicable time period</label>

        <div class="input-group input-daterange">
            <div class="input-group-prepend">
                <span class="input-group-text"><svg width="1em" height="1em" viewBox="0 0 16 16"
                        class="bi bi-calendar-week" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1zm1-3a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H2z" />
                        <path fill-rule="evenodd"
                            d="M3.5 0a.5.5 0 0 1 .5.5V1a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5zm9 0a.5.5 0 0 1 .5.5V1a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5z" />
                        <path
                            d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z" />
                    </svg></span>

            </div>

            <input class="form-control daterange {{#if errors.daterange}}is-invalid{{/if}}" type="text" id="daterange"
                data-start-target="daterangeStart" data-end-target="daterangeEnd"
                data-start="{{ values.daterangeStart }}" data-end="{{ values.daterangeEnd }}"
                value="{{ values.daterangeStart }} - {{ values.daterangeEnd }}" autocomplete="off" />
        </div>

        {{#if errors.daterange}}
        <div class="invalid-feedback">
            {{errors.daterange}}
        </div>
        {{/if}}

        <small class="form-text text-muted">Audit includes emails received and sent during this
            time period. This range can not be changed later.</small>
    </div>

    <div class="form-group mt-2">
        <label for="expires">Audit expires</label>

        <div class="input-group input-daterange">
            <div class="input-group-prepend">
                <span class="input-group-text"><svg width="1em" height="1em" viewBox="0 0 16 16"
                        class="bi bi-calendar-week" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1zm1-3a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H2z" />
                        <path fill-rule="evenodd"
                            d="M3.5 0a.5.5 0 0 1 .5.5V1a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5zm9 0a.5.5 0 0 1 .5.5V1a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5z" />
                        <path
                            d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z" />
                    </svg></span>
            </div>

            <input class="form-control datepick {{#if errors.expires}}is-invalid{{/if}}" type="text" id="expires"
                name="expires" value="{{ values.expires }}" autocomplete="off" />
        </div>
        {{#if errors.expires}}
        <div class="invalid-feedback">
            {{errors.expires}}
        </div>
        {{/if}}

        <small class="form-text text-muted">All audit related data is deleted automatically once expiration date is
            reached.</small>
    </div>

    <!--
    <div class="form-group form-check">
        <input type="checkbox" class="form-check-input {{#if errors.authlog}}is-invalid{{/if}}" id="authlog"
            name="authlog" {{#if values.authlog}}checked{{/if}}>
        <label class="form-check-label" for="authlog">Authentication log</label>
        {{#if errors.authlog}}
        <div class="invalid-feedback">
            {{errors.authlog}}
        </div>
        {{/if}}
        <small class="form-text text-muted">Include authentication log as part of the audit.</small>
    </div>
    -->

    <div class="form-group">
        <label for="notes">Notes</label>
        <textarea class="form-control {{#if errors.notes}}is-invalid{{/if}}" id="notes" name="notes" rows="3"
            required>{{values.notes}}</textarea>
        {{#if errors.notes}}
        <div class="invalid-feedback">
            {{errors.notes}}
        </div>
        {{/if}}
        <small class="form-text text-muted">Reason for creating this audit.</small>
    </div>

    <div class="mt-3 mb-3">
        <button type="submit" class="btn btn-primary btn-sm">
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-file-plus" fill="currentColor"
                xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd"
                    d="M4 1h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H4z" />
                <path fill-rule="evenodd"
                    d="M8 5.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V10a.5.5 0 0 1-1 0V8.5H6a.5.5 0 0 1 0-1h1.5V6a.5.5 0 0 1 .5-.5z" />
            </svg>
            <span>Create audit</span>
        </button>

    </div>
</form>